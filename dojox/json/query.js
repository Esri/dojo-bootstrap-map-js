//>>built
define("dojox/json/query",["dojo/_base/kernel","dojo/_base/lang","dojox","dojo/_base/array"],function(n,m,f){m.getObject("json",!0,f);f.json._slice=function(c,b,d,g){var a=c.length,h=[];d=d||a;b=0>b?Math.max(0,b+a):Math.min(a,b);for(d=0>d?Math.max(0,d+a):Math.min(a,d);b<d;b+=g)h.push(c[b]);return h};f.json._find=function(c,b){function d(a){b&&(!0===b&&!(a instanceof Array)?g.push(a):a[b]&&g.push(a[b]));for(var c in a){var k=a[c];b?k&&"object"==typeof k&&d(k):g.push(k)}}var g=[];if(b instanceof Array){if(1==
b.length)return c[b[0]];for(var a=0;a<b.length;a++)g.push(c[b[a]])}else d(c);return g};f.json._distinctFilter=function(c,b){for(var d=[],g={},a=0,h=c.length;a<h;++a){var e=c[a];b(e,a,c)&&("object"==typeof e&&e?e.__included||(e.__included=!0,d.push(e)):g[e+typeof e]||(g[e+typeof e]=!0,d.push(e)))}a=0;for(h=d.length;a<h;++a)d[a]&&delete d[a].__included;return d};return f.json.query=function(c,b){function d(a){e=a+"("+e}function g(a,b,c,d,e,g,f,k){return h[k].match(/[\*\?]/)||"~"==f?"/^"+h[k].substring(1,
h[k].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+("~"==f?"$/i":"$/")+".test("+b+")":a}var a=0,h=[];c=c.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(l){a+="["==l?1:"]"==l?-1:0;return"]"==l&&0<a?"`]":'"'==l.charAt(0)||"'"==l.charAt(0)?"`"+(h.push(l)-1):l});var e="";c.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw Error("Unsafe function call");});c=c.replace(/([^<>=]=)([^=])/g,"$1\x3d$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,
function(a){return"."==a.charAt(0)?a:"@"==a?"$obj":(a.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+a}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(a,b,c){return(b=a.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/))?(c="",a.match(/^\./)&&(d("dojox.json._find"),c=",true)"),d(b[1].match(/\=/)?"dojo.map":b[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter"),c+",function($obj){return "+b[2]+"})"):(b=a.match(/^\[\s*([\/\\].*)\]/))?".concat().sort(function(a,b){"+
b[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(a,b,c){return"var av\x3d "+c.replace(/\$obj/,"a")+",bv\x3d "+c.replace(/\$obj/,"b")+";if(av\x3ebv||bv\x3d\x3dnull){return "+("/"==b?1:-1)+";}\nif(bv\x3eav||av\x3d\x3dnull){return "+("/"==b?-1:1)+";}\n"})+"return 0;})":(b=a.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/))?(d("dojox.json._slice"),","+(b[1]||0)+","+(b[2]||0)+","+(b[3]||1)+")"):a.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)?(d("dojox.json._find"),("."==a.charAt(1)?",'"+c+"'":a.match(/,/)?
","+a:"")+")"):a}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,g).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(a,b,c,d,e,f,h,k){return g(a,d,e,f,h,k,c,b)});c=e+("$"==c.charAt(0)?"":"$")+c.replace(/`([0-9]+|\])/g,function(a,b){return"]"==b?"]":h[b]});for(var k=eval("1\x26\x26function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj\x3d$;return "+c+"}"),f=0;f<arguments.length-1;f++)arguments[f]=arguments[f+1];return b?k.apply(this,
arguments):k}});
//@ sourceMappingURL=query.js.map