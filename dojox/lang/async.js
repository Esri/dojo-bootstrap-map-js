//>>built
define("dojox/lang/async",["dojo","dijit","dojox"],function(m,t,q){m.provide("dojox.lang.async");(function(){var d=m.Deferred,g=m.forEach,p=m.some,l=q.lang.async,r=Array.prototype.slice,n=Object.prototype.toString;l.seq=function(a){var c="[object Array]"==n.call(a)?a:arguments;return function(a){var b=new d;g(c,function(a){b.addCallback(a)});b.callback(a);return b}};l.par=function(a){var c="[object Array]"==n.call(a)?a:arguments;return function(a){var b=Array(c.length),e=function(){g(b,function(a){a instanceof
d&&0>a.fired&&a.cancel()})},f=new d(e),h=c.length;g(c,function(s,h){var f;try{f=s(a)}catch(c){f=c}b[h]=f});p(b,function(a){return a instanceof Error?(e(),f.errback(a),!0):!1})||g(b,function(a,c){a instanceof d?a.addCallbacks(function(a){b[c]=a;--h||f.callback(b)},function(a){e();f.errback(a)}):--h});h||f.callback(b);return f}};l.any=function(a){var c="[object Array]"==n.call(a)?a:arguments;return function(k){var b=Array(c.length),e=!0;cancel=function(a){g(b,function(b,c){c!=a&&(b instanceof d&&0>
b.fired)&&b.cancel()})};a=new d(cancel);g(c,function(a,c){var e;try{e=a(k)}catch(d){e=d}b[c]=e});p(b,function(b,c){return!(b instanceof d)?(cancel(c),a.callback(b),!0):!1})||g(b,function(b,c){b.addBoth(function(b){e&&(e=!1,cancel(c),a.callback(b))})});return a}};l.select=function(a,c){var k="[object Array]"==n.call(c)?c:r.call(arguments,1);return function(b){return(new d).addCallback(a).addCallback(function(a){return"number"==typeof a&&0<=a&&a<k.length?k[a](b):Error("async.select: out of range")}).callback(b)}};
l.ifThen=function(a,c,k){return function(b){return(new d).addCallback(a).addCallback(function(a){return(a?c:k)(b)}).callback(b)}};l.loop=function(a,c){return function(k){function b(a){g.errback(a)}function e(a){a?h.addCallback(c).addCallback(f):g.callback(a);return a}function f(c){h=(new d).addCallback(a).addCallback(e).addErrback(b);h.callback(c)}var h,g=new d(function(){h.cancel()});f(k);return g}}})()});
//@ sourceMappingURL=async.js.map