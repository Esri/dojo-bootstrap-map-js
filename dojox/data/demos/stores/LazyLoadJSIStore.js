//>>built
define("dojox/data/demos/stores/LazyLoadJSIStore",["dojo","dijit","dojox","dojo/require!dojo/data/ItemFileReadStore"],function(e,n,p){e.provide("dojox.data.demos.stores.LazyLoadJSIStore");e.require("dojo.data.ItemFileReadStore");e.declare("dojox.data.demos.stores.LazyLoadJSIStore",e.data.ItemFileReadStore,{constructor:function(b){},isItemLoaded:function(b){return"stub"===this.getValue(b,"type")?!1:!0},loadItem:function(b){var a=b.item;this._assertIsItem(a);var m=this.getValue(a,"name"),k=this.getValue(a,
"parent"),c="";k&&(c+=k+"/");var f=this,c=e.xhrGet({url:c+(m+"/data.json"),handleAs:"json-comment-optional"});c.addCallback(function(g){delete a.type;delete a.parent;for(var h in g)e.isArray(g[h])?a[h]=g[h]:a[h]=[g[h]];f._arrayOfAllItems[a[f._itemNumPropName]]=a;g=f.getAttributes(a);for(h in g)for(var c=a[g[h]],l=0;l<c.length;l++){var d=c[l];"object"===typeof d&&d.stub&&(d={type:["stub"],name:[d.stub],parent:[m]},k&&(d.parent[0]=k+"/"+d.parent[0]),f._arrayOfAllItems.push(d),d[f._storeRefPropName]=
f,d[f._itemNumPropName]=f._arrayOfAllItems.length-1,c[l]=d)}b.onItem&&b.onItem.call(b.scope?b.scope:e.global,a)});c.addErrback(function(a){b.onError&&b.onError.call(b.scope?b.scope:e.global,a)})}})});
//@ sourceMappingURL=LazyLoadJSIStore.js.map