//>>built
define("dojox/form/uploader/_IFrame","dojo/query dojo/dom-construct dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-form dojo/request/iframe".split(" "),function(l,c,d,m,h,n,k){return d("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){this.inherited(arguments);"iframe"===this.uploadType&&(this.uploadType="iframe",this.upload=this.uploadIFrame)},uploadIFrame:function(a){var f={},b;this.getForm();var d=this.getUrl(),e=this;a=a||{};a.uploadType=this.uploadType;b=c.place('\x3cform enctype\x3d"multipart/form-data" method\x3d"post"\x3e\x3c/form\x3e',
this.domNode);h.forEach(this._inputs,function(a,c){""!==a.value&&(b.appendChild(a),f[a.name]=a.value)},this);if(a)for(nm in a)void 0===f[nm]&&c.create("input",{name:nm,value:a[nm],type:"hidden"},b);k.post(d,{form:b,handleAs:"json",content:a}).then(function(g){c.destroy(b);if(a.ERROR||a.error)e.onError(g);else e.onComplete(g)},function(a){c.destroy(b);e.onError(a)})}})});
//@ sourceMappingURL=_IFrame.js.map