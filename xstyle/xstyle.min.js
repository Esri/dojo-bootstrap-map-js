(function(){var e=document,r=e.scripts,t=r[r.length-1],n=t.src.replace(/[^\/]+\/xstyle[^\/]*js/,"");define=function(r,i,o){function l(){if(1>--s){for(var e=f.result=o&&o.apply(this,i),r=f.callbacks,t=0;r.length>t;t++)r[t](e);f.callbacks=0}}o||(o=i,i=r,r="put-selector/put");for(var s=1,c=0;i.length>c;c++){var u=i[c],f=a[u];if(!f){f=a[u]={callbacks:[]};var v=e.createElement("script");v.src=n+u+".js",t.parentNode.insertBefore(v,t)}f.callbacks?(s++,f.callbacks.push(function(e){return function(r){i[e]=r,l()}}(c))):i[c]=f.result}f=a[r]||(a[r]={callbacks:[]}),l()},require=function(e,r){define("",e,r)};var a={require:{result:require}}})(),function(e){var r,t=/[-+,> ]/;e([],r=function(e,n){"use strict";function a(r,t){r.appendChild(e.createTextNode(t))}function i(r){function n(){d&&p&&d!=p&&(p==r&&(u||(u=t.test(y)&&e.createDocumentFragment()))||p).insertBefore(d,v||null)}for(var u,f,v,p,d,h=arguments,g=h[0],m=0;h.length>m;m++){var y=h[m];if("object"==typeof y){if(f=!1,y instanceof Array){d=e.createDocumentFragment();for(var x=0;y.length>x;x++)d.appendChild(i(y[x]));y=d}if(y.nodeType)d=y,n(),p=y,v=0;else for(var x in y)d[x]=y[x]}else if(f)f=!1,a(d,y);else{1>m&&(r=null),f=!0;var S=y.replace(l,function(t,l,u,f,g,x){l&&(n(),"-"==l||"+"==l?(p=(v=d||p).parentNode,d=null,"+"==l&&(v=v.nextSibling)):("<"==l?p=d=(d||p).parentNode:(","==l?p=r:d&&(p=d),d=null),v=0),d&&(p=d));var S=!u&&f;if(S||!d&&(u||g))if("$"==S)a(p,h[++m]);else{S=S||i.defaultTag;var R=c&&h[m+1]&&h[m+1].name;R&&(S="<"+S+' name="'+R+'">'),d=s&&~(o=S.indexOf("|"))?e.createElementNS(s[S.slice(0,o)],S.slice(o+1)):e.createElement(S)}if(u)if("$"==f&&(f=h[++m]),"#"==u)d.id=f;else{var b=d.className,w=b&&(" "+b+" ").replace(" "+f+" "," ");if("."==u)d.className=b?(w+f).substring(1):f;else if("!"==y){var E;c?i("div",d,"<").innerHTML="":(E=d.parentNode)&&E.removeChild(d)}else w=w.substring(1,w.length-1),w!=b&&(d.className=w)}if(g)if("$"==x&&(x=h[++m]),"style"==g)d.style.cssText=x;else{var N="!"==g.charAt(0)?(g=g.substring(1))&&"removeAttribute":"setAttribute";x=""===x?g:x,s&&~(o=g.indexOf("|"))?d[N+"NS"](s[g.slice(0,o)],g.slice(o+1),x):d[N](g,x)}return""});if(S)throw new SyntaxError("Unexpected char "+S+" in "+y);n(),p=g=d||p}}return r&&u&&r.appendChild(u),g}t=n||t;var o,l=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,s=!1,e=e||document,c="object"==typeof e.createElement;return i.addNamespace=function(r,t){e.createElementNS?(s||(s={}))[r]=t:e.namespaces.add(r,t)},i.defaultTag="div",i.forDocument=r,i})}(function(e,r,t){t=t||r,"function"==typeof define?define([],function(){return t()}):"undefined"==typeof window?require("./node-html")(module,t):put=t()}),define("xstyle/main",["require","put-selector/put"],function(e,r){"use strict";function t(e,r){return e&&e.then?e.then(r):r(e)}function n(e,r,a){return t(e,function(e){var t=r[0];return e?t&&e.get?n(e.get(t),r.slice(1),a):e.receive?e.receive(t?function(e){n(e,r,a)}:a):t?n(e[t],r.slice(1),a):(a(e),void 0):a(t||e)})}function a(e,r,t){n(e,r.slice(0,r.length-1),function(e){var n=r[r.length-1];e.set?e.set(n,t):e[n]=t})}function i(e){for(var r=A.getElementsByTagName(e),t=0;r.length>t;t++)c(r[t])}function o(){return this.join("")}function l(e){return e.toString=o,e}function s(e){this.value=e}function c(r,t,n){function a(){e(["xstyle/load-imports"],function(e){e(r,function(){c(r,t,!0)})})}var i=r.sheet||r.styleSheet||r,o=i.needsParsing,l=i.rules||i.cssRules;if(i.imports&&!n&&i.imports.length)return a();if(!o)for(var s=0;l.length>s;s++){var f=l[s];if(f.href&&!n)return a();f.selectorText&&"x-"==f.selectorText.substring(0,2)&&(o=!0,/^'/.test(f.style.content))}u(i.localSource||(i.ownerNode||i.ownerElement).innerHTML,i,t)}function u(r,n,a){function i(e,r,t){var n=k[e]||(k[e]={});n[r]=t}function o(e){k[e]||(k[e]={}),i("selector","x-"+e,{onRule:function(r){r.eachProperty(function(r,t){var n=""+t;do{var a=n.match(/([^, \(]+)(?:[, ]+(.+))?/);if(!a)return;var o=a[1];if("module"==o)return i(e,r,t[1].args[0]);if("default"==o){if("pseudo"==e)try{return A.querySelectorAll("x:"+r),void 0}catch(l){}}else if("prefix"!=o)return i(e,r,function(){return t})}while(n=a[2])})}})}function c(){}function f(e){this.caller=e,this.args=[]}function v(e,r){r.onRule();var t=k.selector[e];t&&d(t,"onRule",r)}function p(e,r){var t=k.pseudo[e];t&&d(t,"onPseudo",e,r)}function d(r,t,a,i){if(r){var o=q,l=function(e){"string"==typeof e&&n.addRule(o.fullSelector(),e),N()};P++;var s=function(e){function r(e){console.error("Error occurred processing "+t.slice(2).toLowerCase()+" "+a+("{"==o.operator?' in rule "'+o.selector+'" {'+o.cssText:"")+". "+e.message),e&&console.error(e)}try{var s=e[t](a,i,o,n);o instanceof f&&(o.result=s),s&&s.then?s.then(l,r):l(s)}catch(c){r(c)}};"string"==typeof r?e([r],s):s(r)}}function h(e,r){function t(e,r){r||(o+=e),g?g.push?"string"==typeof g[g.length-1]&&"string"==typeof e?g[g.length-1]+=e:e&&g.push(e):"string"==typeof g&&"string"==typeof e?g+=e:g=l([g,e]):g=e}q=$,S.lastIndex=0;for(var n=0,i=!0,o="",c=!0;;){var f,d,g,m,N=S.exec(e),A=N[4],I=N[1],k=N[2],O=N[3];switch(O=O&&C(O),I=C(I),c?(k?(o=d=I,f=k.charAt(0),m="?"==k.charAt(1)):o=O=I,g=O,(d||"/"!=A)&&(c=!1)):(O=O?I+k:I,t(O)),A){case"'":case'"':var L="'"==A?R:b;L.lastIndex=S.lastIndex;var V=L.exec(e);V||error("unterminated string");var j=V[1];S.lastIndex=L.lastIndex,t(new s(j));continue;case"/":"*"==e[S.lastIndex]?(w.lastIndex=S.lastIndex+1,w.exec(e),S.lastIndex=w.lastIndex):t("/");continue;case"\\":var B=L.lastIndex++;t(e.charAt(B));continue;case"(":case"{":case"[":var D,F=!1;if("{"==A)c=!0,t(D=q.newRule(o),!0),f&&(i=!1,k&&">"!=k.charAt(1)||(g.creating=!0),"="==f&&O&&(F=!0)),q.root&&i&&(D.cssRule=r.cssRules[n++]);else{var z=O.match(/(.*?)([\w-]*)$/);t(D=q.newCall(z[2],g,q)),D.ref=y(q,z[2]),(g.calls||(g.calls=[])).push(D)}if(D.parent=q,D.selector=g.creating?".x-generated-"+E++:q.root?o:q.selector+" "+o,F){var _=y(q,O.match(/[^\s]+$/)[0],!0);_&&x(_,D)}q.currentName=d,q.currentSequence=g,q.assignmentOperator=f,M.push(q=D),q.operator=A,q.start=S.lastIndex,o="",q.selector&&q.selector.replace(/:([-\w]+)/,function(e,r){p(r,q)}),d=null,g=null;continue}if(g){var I=g[0];if(I.charAt&&"@"==I.charAt(0)){if("import"==g[0].slice(1,7)){var H=u.getStyleSheet(r.cssRules[n++],g,r);P++;var U=S.lastIndex;h(H.localSource,H),S.lastIndex=U}}else try{q[":"==f?"setValue":"declareProperty"](d,g,m)}catch(K){console.error(K.stack||K)}}switch(A){case":":c=!0,f=":";break;case"}":case")":case"]":T[q.operator]!=A&&console.error("Incorrect opening operator "+q.operator+" with closing operator "+A),d=null,q.cssText=e.slice(q.start,S.lastIndex-1),"}"==A&&(v(q.selector,q),i=!0,o=""),M.pop(),q=M[M.length-1],g=q.currentSequence,d=q.currentName,f=q.assignmentOperator,q.root&&"}"==A&&(c=!0,f=!1);break;case"":return a&&a(),void 0;case";":g=null,c=!0,i=!1,f=!1,o=""}}}function N(){0==--P&&a&&a(n)}n.addRule||(n.addRule=function(e,r,t){return this.insertRule(e+"{"+r+"}",t>=0?t:this.cssRules.length)}),n.deleteRule||(n.deleteRule=n.removeRule);var k={property:{}};o("property"),o("function"),o("pseudo"),k["function"]["var"]=j,k["function"]["extends"]=j;var P=1;(n.href||location.href).replace(/[^\/]+$/,""),c.prototype={eachProperty:function(e){for(var r=this.values||0,t=0;r.length>t;t++){var n=r[t];e.call(this,n||"unnamed",r[n])}},fullSelector:function(){return(this.parent?this.parent.fullSelector():"")+(this.selector||"")+" "},newRule:function(e){return(this.rules||(this.rules={}))[e]=new c},newCall:function(e){var r=new f(e);return r},addSheetRule:function(e,r){if(r&&"@"!=e.charAt(0)){var t=n.addRule(e,r);return-1==t&&(t=n.cssRules.length-1),n.cssRules[t]}},onRule:function(){this.getCssRule()},getCssRule:function(){return this.cssRule||(this.cssRule=this.addSheetRule(this.selector,this.cssText)),this.cssRule},get:function(e){return this.values[e]},declareProperty:function(e,r,t){if(">"==(""+r[0]).charAt(0)){if(!e)return this.generator=r,r=g(r,this),j.addRenderer("",r,this,r),void 0}else{var n=e in I.style||y(this,e);if(!t||!n){var a=this.properties||(this.properties={});a[e]=r,n&&console.warn('Overriding existing property "'+e+'"')}}},setValue:function(e,r){var n=this.values||(this.values=[]);n.push(e),n[e]=r;var a=r.calls;if(a)for(var i=0;a.length>i;i++){var o=a[i],l=o.ref;l&&"function"==typeof l.call&&l.call(o,this,e,r)}if(e)do{var s=y(this,e);if(s){var c=this;t(m(c,e,s),function(t){t=t.splice?t:[t];for(var n=0;t.length>n;n++){var a=t[n];if(a.put(r,c,e))break}});break}e=e.substring(0,e.lastIndexOf("-"))}while(e)},cssText:""};var L=f.prototype=new c;L.declareProperty=L.setValue=function(e,r){this.args.push(r)},L.toString=function(){var e=this.operator;return e+this.args+T[e]};var q,$=new c;$.root=!0,$.properties={Math:Math,module:function(r){return{then:function(t){e([r],t)}}},item:{forElement:function(e){for(;!e.item;)e=e.parentNode;return{element:e,receive:function(r){r(e.item)}}}},prefix:{put:function(e,r,t){return"string"==typeof I.style[O+t]?r.addSheetRule(r.selector,O+t+":"+e):void 0}},"var":{put:function(e,r,t){(r.variables||(r.variables={}))[t]=e;var n=r.variableListeners;n=n&&n[t]||0;for(var a=0;n.length>a;a++)n[a](e)},call:function(e,r,t,n){this.receive(function(e){r.addSheetRule(r.selector,t+": "+(""+n).replace(/var\([^)]+\)/g,e))},r,e.args[0])},receive:function(e,r,t){var n=r;do{var a=n.variables&&n.variables[t];if(a){var i=n.variableListeners||(n.variableListeners={});return(i[t]||(i[t]=[])).push(e),e(a)}n=n.parent}while(n);e()}},on:{put:function(e,r,t){console.log("add event listener"),m(r,t,e)}}},$.css=r,$.parse=h;var M=[$];return h(r,n),N(q),$}function f(e){return L[e]}function v(){if(i("link"),i("style"),!P)if(P=!0,f("dom-qsa2.1")){for(var e=0,r=$.length;r>e;e++)p($[e]);d()}else for(var t=A.all,e=0,r=t.length;r>e;e++)h(t[e])}function p(e){for(var r=A.querySelectorAll(e.selector),t=e.name,n=0,a=r.length;a>n;n++){var i=r[n],o=i.elementalStyle,l=i.elementalSpecificities;o||(o=i.elementalStyle={},l=i.elementalSpecificities={});var s=i.renderings;s||(s=i.renderings=[],M.push(i)),s.push({name:t,rendered:o[t]==e.propertyValue,renderer:e}),o[t]=e.propertyValue}}function d(){for(var e=0;M.length>e;e++){var t=M[e],n=t.renderings,a=t.elementalStyle;delete t.renderings;for(var i=0;n.length>i;i++){var o=n[i],l=o.renderer,s=l.rendered;if(V=a[o.name]==l.propertyValue,!s&&V)try{l.render(t)}catch(c){console.error(c,c.stack),r(t,"div.error",""+c)}s&&!V&&l.unrender&&(l.unrender(t),n.splice(i--,1))}}M=[]}function h(e,r){for(var t=0,n=$.length;n>t;t++){var a=$[t];r&&r!=a.selector||(q?!q.call(e,a.selector):e.currentStyle[a.name]!=a.propertyValue)||a.render(e)}}function g(e,n){return E++,e=e.sort?e:[e],function(a,i){for(var o=a,l=0,s=e.length;s>l;l++){var c=e[l];try{if(c.eachProperty)if(c.args)if("("==c.operator){var u=e[l+1];u&&u.eachProperty&&r(o,u.selector);var f=""+c.args,v=m(c,0,f);(function(e,a){t(v,function(t){t.forElement&&(t=t.forElement(a));var i=e.appendChild(A.createTextNode("Loading"));t.receive(function(n){if(n&&n.sort){i&&(i.parentNode.removeChild(i),i=null);var a=u&&u.eachProperty&&u.get("each");a&&(a=g(a,u)),n.forEach(a?function(r){a(e,r)}:function(t){r(e,N[e.tagName]||"div",t)})}else"value"in e?(e.value=n,e["-x-variable"]=t):i.nodeValue=n},n,f)})})(o,a)}else r(o,""+c);else r(o,c.selector),j.update(o,c.selector);else if("string"==typeof c){"="==c.charAt(0)&&(c=c.slice(1));for(var p=c.split(","),d=0,h=p.length;h>d;d++){var y=p[d].trim(),x=null;if(y){y=y.replace(/\([^)]*\)/,function(e){x=e});var S=r(0==d?o:a,y);i&&(S.item=i);var u=e[l+1];S==o||u&&u.eachProperty||j.update(S),o=S}}}else o.appendChild(A.createTextNode(c.value))}catch(R){console.error(R,R.stack),o.appendChild(A.createTextNode(R))}}return o}}function m(e,r,i){function o(){var e,r,i=c.length+1,o=[],l=[],s=function(t){return function(n){if(o[t]=n,i--,0>=i){r=!0,e=h?h.apply(this,o):o[0];for(var a=0;l.length>a;a++)l[a](e)}}};if(!h){var u=c[0],f={then:function(e){l.push(e)}};return t(u[0],function(e){f=e;for(var r=1;u.length>r;r++){if(!f||!f.get){f={receive:function(r){n(e,u.slice(1),r)},put:function(e){a(resolve,u.slice(1),e)}};break}f=f.get(u[r])}for(var r=0;l.length>r;r++)l[r](f)}),f}for(var v=0;c.length>v;v++){var u=c[v];n(u[0],u.slice(1),s(v))}return s(-1)(),e&&e.then?e:{receive:function(t){l&&l.push(t),r&&t(e)}}}var l=e["var-expr-"+r];if(c)return l;var s,c=[];c.id=E++;var u,f=[],v=i.join?i.join(""):""+i,p=v.match(/^[\w_$\/\.-]*$/);if(v=v.replace(/("[^\"]*")|([\w_$\.\/-]+)/g,function(r,t,n){if(n){u=n.split("/");var a=u.join("_");f.push(a),c.push(u);var i=u[0],o=y(e,i);if("string"==typeof o||o instanceof Array)o=m(e,i,o);else if(!o)throw Error('Could not find reference "'+i+'"');return o.forElement&&(s=!0),u[0]=o,a}return r}),p){if(r){var d=function(e,r,n){t(findAttributeInAncestors(e,u[0],u[1]),function(e){for(var r=2;u.length-1>r;r++){var t=u[r];e=e.get?e.get(t):e[t]}var t=u[r];e.set?e.set(t,n):e[t]=n})};d.rule=e}}else var h=Function.apply(this,f.concat(["return xstyleReturn("+v+")"]));return c.func=h,e["var-expr-"+r]=c,e["var-expr-"+r]=s?{forElement:function(r){for(var t,n=r;!q.call(r,e.selector);)r=r.parentNode;for(var a=0;c.length>a;a++){var i=c[a],l=i[0];l.forElement&&(l=i[0]=l.forElement(n));var s=l.element;if(n!=t){for(;n!=s;){if(n==t)return;n=n.parentNode}t=n}}var u=t["expr-result-"+c.id];return u||(t["expr-result-"+c.id]=u=o(),u.element=t),u}}:o()}function y(e,r,t){var n=e;do{var a=n.properties&&n.properties[r]||t&&n.rules&&n.rules[r];n=n.parent}while(!a&&n);return a}function x(e,r){var t=e.cssText;r.cssText+=t,"values,properties,variables,calls".replace(/\w+/g,function(t){e[t]&&(r[t]=Object.create(e[t]))});var n=r.getCssRule();e.eachProperty(function(e,t){if(r.setValue(e,t),e){var a=n.style;a[e]||(a[e]=t)}}),e.generator&&r.declareProperty(null,e.generator)}var S=/\s*([^{\}\[\]\(\)\/\\'":=;]*)([=:]\??\s*([^{\}\[\]\(\)\/\\'":;]*))?([{\}\[\]\(\)\/\\'":;]|$)/g,R=/((?:\\.|[^'])*)'/g,b=/((?:\\.|[^"])*)"/g,w=/\*\//g,E=0,N={TABLE:"tr",TBODY:"tr",TR:"td",UL:"li",OL:"li",SELECT:"option"},T={"{":"}","[":"]","(":")"},A=document,C="".trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},I=A.createElement("div");s.prototype.toString=function(){return'"'+this.value.replace(/["\\\n\r]/g,"\\$&")+'"'};var k=navigator.userAgent,O=k.indexOf("WebKit")>-1?"-webkit-":k.indexOf("Firefox")>-1?"-moz-":k.indexOf("MSIE")>-1?"-ms-":k.indexOf("Opera")>-1?"-o-":"";u.getStyleSheet=function(e){return e.styleSheet},A.addEventListener("change",function(e){var r=e.target,t=r["-x-variable"];t.put&&t.put(r.value)});var P,I=A.createElement("div"),L={"dom-qsa2.1":!!I.querySelectorAll},q=I.matches||I.matchesSelector||I.webkitMatchesSelector||I.mozMatchesSelector||I.msMatchesSelector||I.oMatchesSelector,$=[],M=[];/e/.test(A.readyState||"")?setTimeout(v,200):A.addEventListener("DOMContentLoaded",v);var V,j={process:c,vendorPrefix:O,applyProperty:function(e,r){return"opacity"==e&&"-ms-"==O?"filter: alpha(opacity="+100*r+"); zoom: 1;":O+e+":"+r+";"},onFunction:function(){},onCall:function(e,r){function t(){var r=a,t="extends"==e?"rules":"variables";do{if(!r)throw Error('Could not find "'+n[0]+'" in the defined '+t);var i=r[t]&&r[t][n[0]];r=r.parent}while(!i);return i}var n=r.args,a=r.parent;if("extends"==e){var i=t();x(i,a)}else if("var"==e)return function(e){e.addSheetRule(e.selector,e.currentName+": "+(""+e.currentSequence).replace(/var\([^)]+\)/g,t()))}},parse:u,addRenderer:function(e,r,t,n){var a={selector:t.selector,propertyValue:r,name:e,render:n};$.push(a),P&&p(a),d()},update:h,clearRenderers:function(){$=[]},load:function(e,r,t,n){r(["xstyle/css"],function(a){a.load(e,r,t,n)})}};return j}),xstyleReturn=function(e){return 1==arguments.length?e:[].slice.call(arguments)};
/*
//@ sourceMappingURL=..\xstyle.min.js.map
*/