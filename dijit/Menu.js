//>>built
define("dijit/Menu","require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(u,k,v,p,g,q,s,w,t,l,c,h,x,r,y,z){c("dijit-legacy-requires")&&z(0,function(){u(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return v("dijit.Menu",y,{constructor:function(){this._bindings=[]},targetNodeIds:[],
selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return x.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||a.name&&
document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){a=p.byId(a,this.ownerDocument);var e;if("iframe"==a.tagName.toLowerCase()){var d=a;e=this._iframeContentWindow(d);e=h.body(e.document)}else e=a==h.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var b={node:a,iframe:d};g.set(a,"_dijitMenu"+this.id,this._bindings.push(b));var c=t.hitch(this,function(a){var b=this.selector,e=b?function(a){return l.selector(b,a)}:function(a){return a},c=this;return[l(a,
e(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();c._scheduleOpen(this,d,{x:a.pageX,y:a.pageY})}),l(a,e("keydown"),function(a){a.shiftKey&&a.keyCode==w.F10&&(a.stopPropagation(),a.preventDefault(),c._scheduleOpen(this,d))})]});b.connects=e?c(e):[];d&&(b.onloadHandler=t.hitch(this,function(){var a=this._iframeContentWindow(d),a=h.body(a.document);b.connects=c(a)}),d.addEventListener?d.addEventListener("load",b.onloadHandler,!1):d.attachEvent("onload",
b.onloadHandler))},unBindDomNode:function(a){var e;try{e=p.byId(a,this.ownerDocument)}catch(d){return}a="_dijitMenu"+this.id;if(e&&g.has(e,a)){for(var b=g.get(e,a)-1,c=this._bindings[b],f;f=c.connects.pop();)f.remove();(f=c.iframe)&&(f.removeEventListener?f.removeEventListener("load",c.onloadHandler,!1):f.detachEvent("onload",c.onloadHandler));g.remove(e,a);delete this._bindings[b]}},_scheduleOpen:function(a,c,d){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,
iframe:c,coords:d})},1))},_openMyself:function(a){function e(){h.refocus&&k&&k.focus();r.close(h)}var d=a.target,b=a.iframe;a=a.coords;var g=!a;this.currentTarget=d;if(a){if(b){var d=q.position(b,!0),f=this._iframeContentWindow(b),f=q.docScroll(f.document),m=s.getComputedStyle(b),n=s.toPixelValue,l=(c("ie")&&c("quirks")?0:n(b,m.paddingLeft))+(c("ie")&&c("quirks")?n(b,m.borderLeftWidth):0),b=(c("ie")&&c("quirks")?0:n(b,m.paddingTop))+(c("ie")&&c("quirks")?n(b,m.borderTopWidth):0);a.x+=d.x+l-f.x;a.y+=
d.y+b-f.y}}else a=q.position(d,!0),a.x+=10,a.y+=10;var h=this,b=this._focusManager.get("prevNode"),d=this._focusManager.get("curNode"),k=!d||p.isDescendant(d,this.domNode)?b:d;r.open({popup:this,x:a.x,y:a.y,onExecute:e,onCancel:e,orient:this.isLeftToRight()?"L":"R"});this.focus();g||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);r.close(this)}},destroy:function(){k.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})});
//@ sourceMappingURL=Menu.js.map